@mixin control-base {
  width: 100%;
  border-radius: var(--radius-md);
  border: 1px solid var(--color-border);
  background: var(--color-surface);
  padding: var(--space-4) var(--space-6);
  font-size: var(--font-size-md);
  line-height: var(--line-height-base);
  color: var(--color-text);
  outline: none;
  transition: border-color 150ms ease, box-shadow 150ms ease, background-color 150ms ease, color 150ms ease;
}

@mixin control-states($with-inset-disabled: false) {
  &.ui-form__control--invalid {
    border-color: var(--color-danger);
    box-shadow: 0 0 0 3px rgb(var(--color-danger-rgb) / 0.12);

    &:focus {
      border-color: var(--color-danger);
      box-shadow: 0 0 0 4px rgb(var(--color-danger-rgb) / 0.18);
    }
  }

  &.ui-form__control--valid {
    border-color: var(--color-success);
    box-shadow: 0 0 0 3px rgb(var(--color-success-rgb) / 0.12);

    &:focus {
      border-color: var(--color-success);
      box-shadow: 0 0 0 4px rgb(var(--color-success-rgb) / 0.18);
    }
  }

  &:focus {
    border-color: var(--color-border-strong);
    box-shadow: 0 0 0 4px rgb(var(--color-focus-ring-rgb) / 0.7);
  }

  &:disabled {
    cursor: not-allowed;
    opacity: 1;
    background: var(--color-surface-2);
    color: var(--color-text-muted);
    border-color: var(--color-border);

    @if $with-inset-disabled {
      box-shadow: inset 0 0 0 1px rgb(var(--color-focus-ring-rgb) / 0.5);
    }
  }
}
